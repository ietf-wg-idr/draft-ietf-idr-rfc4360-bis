<?xml version="1.0" encoding="utf-8"?>
<?xml-model href="rfc7991bis.rnc"?>
<!-- Need to check the ipr status later. The current value is temporary and keeps xml2rfc happy. -->
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" category="std" docName="draft-chairs-idr-rfc4360-bis-01" obsoletes="4360" updates="" submissionType="IETF" consensus="true" ipr="pre5378Trust200902" xml:lang="en">
  <front>
    <title abbrev="BGP Extended Communities Attribute">
      BGP Extended Communities Attribute
    </title>
    <seriesInfo name="Internet-Draft" value="draft-chairs-idr-rfc4360-bis-01"/>
    <author initials="S." surname="Sangli" fullname="Srihari Sangli">
      <organization>Juniper Networks</organization>
      <address>
        <postal>
          <street>Exora Business Park</street>
          <street>Bangalore, KA  560103</street>
          <street>India</street>
        </postal>
        <email>ssangli@juniper.net</email>
      </address>
    </author>
    <author fullname="Nat Kao" initials="N" role="editor" surname="Kao">
      <organization>Individual Contributor</organization>
      <address>
        <email>pyxislx@gmail.com</email>
      </address>
    </author>
    <date year="2025"/> <!-- keeps xml2rfc happy -->
    <area>Routing Area</area>
    <workgroup>IDR Working Group</workgroup>
    <keyword>RFC</keyword>
    <keyword>Request for Comments</keyword>
    <keyword>I-D</keyword>
    <keyword>Internet-Draft</keyword>
    <keyword>BGP, Extended Community</keyword>
    <abstract>
      <t>
        This document describes the "extended community" BGP-4 attribute.
        This attribute provides a mechanism for labeling information carried
        in BGP-4.  These labels can be used to control the distribution of
        this information, or for other applications.
      </t>
      <t>
        This document obsoletes <xref target="RFC4360"/>.
      </t>
    </abstract>
  </front>

  <middle>
    <section>
      <name>Introduction</name>
      <t>
        The Extended Community Attribute provides a mechanism for labeling information carried in BGP-4 <xref target="RFC4271"/>.
        It provides two important enhancements over the existing BGP Community Attribute <xref target="RFC1997"/>:
      </t>
      <ul>
        <li>An extended range, ensuring that communities can be assigned for a plethora of uses, without fear of overlap.</li>
        <li>The addition of a Type field provides structure for the community space.</li>
      </ul>
      <t>
        The addition of structure allows the usage of policy based on the application for which the community value will be used. For
        example, one can filter out all communities of a particular type, or allow only certain values for a particular type of community.
        It also allows one to specify whether a particular community is transitive or non-transitive across an Autonomous System (AS)
        boundary. Without structure, this can only be accomplished by explicitly enumerating all community values that will be denied or
        allowed and passed to BGP speakers in neighboring ASes based on the transitive property.
      </t>
      <section title="Requirements Language" anchor="requirements">
        <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL",
          "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT
          RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be
          interpreted as described in BCP 14 <xref target="RFC2119"/>
          <xref target="RFC8174"/> when, and only when, they appear in
          all capitals, as shown here.</t>
      </section>
    </section>

    <section title="BGP Extended Communities Attribute">
      <t>
        The Extended Communities Attribute is a transitive optional BGP attribute, with the Type Code 16. The attribute consists of a set
        of "extended communities". All routes with the Extended Communities attribute belong to the communities listed in the attribute.
      </t>
      <dl newline="true">
        <dt>
          Each Extended Community is encoded as an 8-octet quantity, as follows:
        </dt>
        <dd>
          <figure>
            <artwork type="ascii-art">
              <![CDATA[
 
- Type Field  : 1 or 2 octets
- Value Field : Remaining octets

 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Type high    |  Type low(*)  |                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+          Value                |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

(*) Present for Extended Types only, used for the Value field
    otherwise.
                ]]>
            </artwork>
          </figure>
          <dl newline="true">
            <dt>Type Field:</dt>
            <dd>
              <t>
                Two classes of Type Field are introduced: Regular Type and Extended Type.
              </t>
              <t>
                The size of Type Field for Regular Types is 1 octet, and the size of the Type Field for Extended Types is 2 octets.
              </t>
              <t>
                The value of the high-order octet of the Type Field determines if an extended community is a Regular Type or an Extended Type.
                The class of a type (Regular or Extended) is not encoded in the structure of the type itself. The class of a type is specified
                in the document that defines the type and the IANA registry.
              </t>
              <dl newline="true">
                <dt>
                  The high-order octet of the Type Field is as shown below:
                </dt>
                <dd>
                  <figure>
                    <artwork type="ascii-art">
                      <![CDATA[
 
 0 1 2 3 4 5 6 7
+-+-+-+-+-+-+-+-+
|I|T|           |
+-+-+-+-+-+-+-+-+
                        ]]>
                    </artwork>
                  </figure>
                  <dl newline="true">
                    <dt>I - IANA authority bit</dt>
                    <dd>
                      <dl>
                        <dt>Value 0:</dt>
                        <dd>IANA-assignable type using the "First Come First Serve" policy</dd>
                        <dt>Value 1:</dt>
                        <dd>
                          Part of this Type Field space is for IANA assignable types using either the Standard Action or the Early IANA
                          Allocation policy. The rest of this Type Field space is for Experimental use.
                        </dd>
                      </dl>
                    </dd>
                    <dt>T - Transitive bit</dt>
                    <dd>
                      <dl>
                        <dt>Value 0:</dt>
                        <dd>The community is transitive across ASes</dd>
                        <dt>Value 1:</dt>
                        <dd>The community is non-transitive across ASes</dd>
                      </dl>
                    </dd>
                    <dt>Remaining 6 bits:</dt>
                    <dd>Indicates the structure of the community</dd>
                  </dl>
                </dd>
              </dl>
            </dd>
            <dt>Value Field:</dt>
            <dd>
              The encoding of the Value Field is dependent on the "type" of the community as specified by the Type Field.
            </dd>
          </dl>
        </dd>
      </dl>
      <t>
        Two extended communities are declared equal only when all 8 octets of the community are equal.
      </t>
      <t>
        The two members in the tuple &lt;Type, Value&gt; should be enumerated to specify any community value. The remaining octets of the
        community interpreted based on the value of the Type field.
      </t>
    </section>

    <section title="Defined BGP Extended Community Types">
      <t>
        This section introduces a few extended types and defines the format of the Value Field for those types. The types introduced here
        provide "templates", where each template is identified by the high- order octet of the extended community Type field, and the
        lower-order octet (sub-type) is used to indicate a particular type of extended community.
      </t>

      <section title="Two-Octet AS-Specific Extended Community" anchor="two-octet-as-ec">
        <t>
          This is an extended type with Type Field composed of 2 octets and Value Field composed of 6 octets.
        </t>
        <figure>
          <artwork type="ascii-art">
            <![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| 0x00 or 0x40  |   Sub-Type    |    Global Administrator       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Local Administrator                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
              ]]>
          </artwork>
        </figure>
        <t>
          The value of the high-order octet of this extended type is either 0x00 or 0x40. The low-order octet of this extended type is
          used to indicate sub-types.
        </t>
        <dl newline="true">
          <dt>
            The Value Field consists of two sub-fields:
          </dt>
          <dd>
            <dl newline="true">
              <dt>Global Administrator sub-field: 2 octets</dt>
              <dd>
                This sub-field contains an Autonomous System number assigned by IANA.
              </dd>
              <dt>Local Administrator sub-field: 4 octets</dt>
              <dd>
                The organization identified by Autonomous System number in the Global Administrator sub-field can encode any information in
                this sub-field. The format and meaning of the value encoded in this sub-field should be defined by the sub-type of the
                community.
              </dd>
            </dl>
          </dd>
        </dl>
      </section>
    
      <section title="IPv4-Address-Specific Extended Community" anchor="ipv4-addr-ec">
        <t>
          This is an extended type with Type Field composed of 2 octets and Value Field composed of 6 octets.
        </t>
        <figure>
          <artwork type="ascii-art">
            <![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| 0x01 or 0x41  |   Sub-Type    |    Global Administrator       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Global Administrator (cont.)  |    Local Administrator        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
              ]]>
          </artwork>
        </figure>
        <t>
          The value of the high-order octet of this extended type is either 0x01 or 0x41. The low-order octet of this extended type is used
          to indicate sub-types.
        </t>
        <dl newline="true">
          <dt>
            The Value field consists of two sub-fields:
          </dt>
          <dd>
            <dl newline="true">
              <dt>Global Administrator sub-field: 4 octets</dt>
              <dd>
                This sub-field contains an IPv4 unicast address assigned by one of the Internet registries.
              </dd>
              <dt>Local Administrator sub-field: 2 octets</dt>
              <dd>
                The organization that has been assigned the IPv4 address in the Global Administrator sub-field can encode any information in
                this sub-field. The format and meaning of this value encoded in this sub-field should be defined by the sub-type of the
                community.
              </dd>
            </dl>
          </dd>
        </dl>
      </section>

      <section title="Opaque Extended Community" anchor="opaque-ec">
        <t>
          This is an extended type with Type Field composed of 2 octets and Value Field composed of 6 octets.
        </t>
        <figure>
          <artwork type="ascii-art">
            <![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| 0x03 or 0x43  |   Sub-Type    |                Value          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         Value (cont.)                         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
              ]]>
          </artwork>
        </figure>
        <t>
          The value of the high-order octet of this extended type is either 0x03 or 0x43. The low-order octet of this extended type is used
          to indicate sub-types.
        </t>
        <t>
          This is a generic community of extended type. The value of the sub-type that should define the Value Field is to be assigned by
          IANA.
        </t>
      </section>
    </section>

    <section title="Route Target Community">
      <t>
        The Route Target Community identifies one or more routers that may receive a set of routes (that carry this Community) carried by
        BGP. This is transitive across the Autonomous System boundary.
      </t>
      <t>
        The Route Target Community is of an extended type.
      </t>
      <t>
        The value of the high-order octet of the Type field for the Route Target Community can be 0x00 (as defined in
        <xref target="two-octet-as-ec"/>), 0x01 (as defined in <xref target="ipv4-addr-ec"/>), or 0x02 (as defined in <xref target="RFC5668"/>).
        The value of the low-order octet of the Type field for this community is 0x02.
      </t>
      <t>
        When the value of the high-order octet of the Type field is 0x00 or 0x02, the Local Administrator sub-field contains a number from a
        numbering space that is administered by the organization to which the Autonomous System number carried in the Global Administrator
        sub- field has been assigned by an appropriate authority.
      </t>
      <t>
        When the value of the high-order octet of the Type field is 0x01, the Local Administrator sub-field contains a number from a
        numbering space that is administered by the organization to which the IP address carried in the Global Administrator sub-field has
        been assigned by an appropriate authority.
      </t>
      <t>
        One possible use of the Route Target Community is specified in <xref target="RFC4364"/>.
      </t>
    </section>

    <section title="Route Origin Community">
      <t>
        The Route Origin Community identifies one or more routers that inject a set of routes (that carry this Community) into BGP. This is
        transitive across the Autonomous System boundary.
      </t>
      <t>
        The Route Origin Community is of an extended type.
      </t>
      <t>
        The value of the high-order octet of the Type field for the Route Origin Community can be 0x00 (as defined in
        <xref target="two-octet-as-ec"/>), 0x01 (as defined in <xref target="ipv4-addr-ec"/>), or 0x02 (as defined in <xref target="RFC5668"/>).
        The value of the low-order octet of the Type field for this community is 0x03.
      </t>
      <t>
        When the value of the high-order octet of the Type field is 0x00 or 0x02, the Local Administrator sub-field contains a number from a
        numbering space that is administered by the organization to which the Autonomous System number carried in the Global Administrator
        sub- field has been assigned by an appropriate authority.
      </t>
      <t>
        When the value of the high-order octet of the Type field is 0x01, the Local Administrator sub-field contains a number from a
        numbering space that is administered by the organization to which the IP address carried in the Global Administrator sub-field has
        been assigned by an appropriate authority.
      </t>
      <t>
        One possible use of the Route Origin Community is specified in <xref target="RFC4364"/>.
      </t>
    </section>

    <section title="Operations" anchor="operations">
      <t>
        A BGP speaker may use the Extended Communities attribute to control which routing information it accepts or distributes to its
        peers.
      </t>
      <t>
        The Extended Community attribute MUST NOT be used to modify the BGP best path selection algorithm in a way that leads to forwarding
        loops.
      </t>
      <t>
        A BGP speaker receiving a route that doesn't have the Extended Communities attribute MAY append this attribute to the route when
        propagating it to its peers.
      </t>
      <t>
        A BGP speaker receiving a route with the Extended Communities attribute MAY modify this attribute according to the local policy.
      </t>
      <t>
        By default if a range of routes is to be aggregated and the resultant aggregates path attributes do not carry the ATOMIC_AGGREGATE
        attribute, then the resulting aggregate should have an Extended Communities path attribute that contains the set union of all the
        Extended Communities from all of the aggregated routes. The default behavior could be overridden via local configuration, in which
        case handling the Extended Communities attribute in the presence of route aggregation becomes a matter of the local policy of the
        BGP speaker that performs the aggregation.
      </t>
      <t>
        A route may carry both the BGP Communities attribute, as defined in
        <xref target="RFC1997"/>), and the Extended BGP Communities attribute.
        In this case, the BGP Communities attribute is handled as specified in 
        <xref target="RFC1997"/>, and the Extended BGP Communities attribute is handled as specified in this document.
      </t>
      <t>
        If a route has non-transitive extended communities, those communities SHOULD NOT be propagated across an Autonomous System boundary
        and SHOULD be removed from the route. However, non-transitive extended communities SHOULD NOT be removed when advertising the route
        within the same BGP AS Confederation(as defined in <xref target="RFC5065"/>).
        As part of configuration or BGP protocol extensions, BGP speakers MAY attach non-transitive extended communities to routes
        advertised across Autonomous System boundaries.
      </t>
      <t>
        By default, when a BGP speaker receives routes with non-transitive extended communities across Autonomous System or Confederation 
        Member-AS boundaries, it SHOULD NOT remove these extended communities. The behavior MAY be configurable. The BGP speaker
        SHOULD also allow local policies to match against or remove these extended communities.
      </t>
    </section>

    <section title="Error Handling" anchor="error-handling">
      <t>
        <xref target="RFC7606" sectionFormat="comma" section="7.14"/>,
        defines the error handling procedure for the Extended Community attribute.
      </t>
    </section>

    <section title="IANA Considerations" anchor="iana-considerations">
      <t>
        All the BGP Extended Communities contain a Type field.
      </t>
      <t>
        The Type could be either regular or extended. For a Regular Type, the IANA allocates an 8-bit value; for an Extended Type, the IANA
        allocates a 16-bit value.
      </t>
      <t>
        The value allocated for a Regular Type MUST NOT be reused as the value of the high-order octet when allocating an Extended Type.
        The value of the high-order octet allocated for an Extended Type MUST NOT be reused when allocating a Regular Type.
      </t>
      <t>
        The Type field indicates whether the Extended Community is transitive or not. Future requests for assignment of a Type value must
        specify whether the Type value is intended for a transitive or a non-transitive Extended Community.
      </t>
      <t>
        The IANA has created two registries entitled "BGP Transitive Extended Community Types" <xref target="IANA-BGP-EC-TRANS"/>
        and "BGP Non-Transitive Extended Community Types" <xref target="IANA-BGP-EC-NONTRANS"/>.
        The IANA will maintain these registries. The assignments of these registries consist of the name and the value.
      </t>
      <t>
        Future assignments are to be made using either the Standards Action process defined in
        <xref target="RFC8126"/>, the Early IANA Allocation process defined in <xref target="RFC7120"/>, 
        or the "First Come First Served" policy defined in <xref target="RFC8126"/>.
      </t>
      <t>
        Further definitions of sub-type registries, along with their allocation policies, can be found in <xref target="RFC7153"/>.
      </t>
      <t>
        Should the conditions be met, early creations of sub-type registries can be done and tracked using the Early Registry Creation
        process defined in <xref target="I-D.baber-ianabis-early-registries"/>.
      </t>
      <t>
        The following table summarizes the ranges for the assignment of the "BGP Transitive Extended Community Types"
        registry <xref target="IANA-BGP-EC-TRANS"/>:
      </t>
      <table>
        <thead>
          <tr>
            <th>TYPE VALUE RANGE</th>
            <th>REGISTRATION PROCEDURES</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left">0x00-0x3F</td>
            <td align="left">First Come First Served</td>
          </tr>
          <tr>
            <td align="left">0x80-0x8F</td>
            <td align="left">First Come First Served or Experimental Use (see <xref target="RFC3692"/> and <xref target="RFC9184"/>)</td>
          </tr>
          <tr>
            <td align="left">0x90-0xBF</td>
            <td align="left">Standards Action</td>
          </tr>
        </tbody>
      </table>
      <t>
        This document makes the following assignments in the "BGP Transitive Extended Community Types"
        registry <xref target="IANA-BGP-EC-TRANS"/>:
      </t>
      <table>
        <thead>
          <tr>
            <th>TYPE VALUE</th>
            <th>NAME</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left">0x00</td>
            <td align="left">
              Transitive Two-Octet AS-Specific Extended Community (Sub-Types are defined in the "Transitive Two-Octet AS-Specific
              Extended Community Sub-Types" registry <xref target="IANA-BGP-EC-TRANS-TWO-OCTET-AS"/>)
            </td>
          </tr>
          <tr>
            <td align="left">0x01</td>
            <td align="left">
              Transitive IPv4-Address-Specific Extended Community (Sub-Types are defined in the "Transitive IPv4-Address-Specific
              Extended Community Sub-Types" registry <xref target="IANA-BGP-EC-TRANS-IPV4"/>)
            </td>
          </tr>
          <tr>
            <td align="left">0x03</td>
            <td align="left">
              Transitive Opaque Extended Community (Sub-Types are defined in the "Transitive Opaque Extended Community Sub-Types"
              registry <xref target="IANA-BGP-EC-TRANS-OPAQUE"/>)
            </td>
          </tr>
        </tbody>
      </table>

      <t>
        The following table summarizes the ranges for the assignment of the "BGP Non-Transitive Extended Community Types" registry:
      </t>
      <table>
        <thead>
          <tr>
            <th>TYPE VALUE RANGE</th>
            <th>REGISTRATION PROCEDURES</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left">0x40-0x7F</td>
            <td align="left">First Come First Served</td>
          </tr>
          <tr>
            <td align="left">0xC0-0xCF</td>
            <td align="left">Experimental Use (see <xref target="RFC3692"/>)</td>
          </tr>
          <tr>
            <td align="left">0xD0-0xFF</td>
            <td align="left">Standards Action</td>
          </tr>
        </tbody>
      </table>
      <t>
        This document makes the following assignments in the "BGP Non-Transitive Extended Community Types"
        <xref target="IANA-BGP-EC-TRANS"/> registry:
      </t>
      <table>
        <thead>
          <tr>
            <th>TYPE VALUE</th>
            <th>NAME</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left">0x40</td>
            <td align="left">
              Non-Transitive Two-Octet AS-Specific Extended Community (Sub-Types are defined in the "Non-Transitive Two-Octet AS-Specific
              Extended Community Sub-Types" registry <xref target="IANA-BGP-EC-NONTRANS-TWO-OCTET-AS"/>)
            </td>
          </tr>
          <tr>
            <td align="left">0x41</td>
            <td align="left">
              Non-Transitive IPv4-Address-Specific Extended Community (Sub-Types are defined in the "Non-Transitive IPv4-Address-Specific
              Extended Community Sub-Types" registry <xref target="IANA-BGP-EC-NONTRANS-IPV4"/>)
            </td>
          </tr>
          <tr>
            <td align="left">0x43</td>
            <td align="left">
              Non-Transitive Opaque Extended Community (Sub-Types are defined in the "Non-Transitive Opaque Extended Community Sub-Types"
              registry <xref target="IANA-BGP-EC-NONTRANS-OPAQUE"/>)
            </td>
          </tr>
        </tbody>
      </table>
      <t>
        This document defines a class of extended communities called Two-Octet AS-Specific Extended Community for which the IANA is to
        create and maintain two registries entitled "Transitive Two-Octet AS-Specific Extended Community Sub-Types"
        <xref target="IANA-BGP-EC-TRANS-TWO-OCTET-AS"/> and "Non-Transitive Two-Octet AS-Specific Extended Community Sub-Types"
        <xref target="IANA-BGP-EC-NONTRANS-TWO-OCTET-AS"/>.
        All the communities in this class are of Extended Types.
        Future assignments are to be made using the "First Come First Served" policy defined in <xref target="RFC8126"/>. 
      </t>
      <t>
        This document defines a class of extended communities called IPv4-Address-Specific Extended Community for which the IANA is to
        create and maintain two registries entitled "Transitive IPv4-Address-Specific Extended Community Sub-Types"
        <xref target="IANA-BGP-EC-TRANS-TWO-OCTET-AS"/> and "Non-Transitive IPv4-Address-Specific Extended Community Sub-Types"
        <xref target="IANA-BGP-EC-NONTRANS-TWO-OCTET-AS"/>.
        All the communities in this class are of extended Types.
        Future assignments are to be made using the "First Come First Served" policy defined in <xref target="RFC8126"/>. 
      </t>
      <t>
        This document defines a class of extended communities called Opaque Extended Community for which the IANA is to
        create and maintain two registries entitled "Transitive Opaque Extended Community Sub-Types"
        <xref target="IANA-BGP-EC-TRANS-OPAQUE"/> and "Non-Transitive Opaque Extended Community Sub-Types"
        <xref target="IANA-BGP-EC-NONTRANS-OPAQUE"/>.
        All the communities in this class are of extended Types.
        Future assignments are to be made using the "First Come First Served" policy defined in <xref target="RFC8126"/>. 
      </t>
      <t>
        This document makes the following assignments in the "Transitive Two-Octet AS-Specific Extended Community Sub-Types" registry
        <xref target="IANA-BGP-EC-TRANS-TWO-OCTET-AS"/>:
      </t>
      <table>
        <thead>
          <tr>
            <th>SUB-TYPE VALUE</th>
            <th>NAME</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left">0x02</td>
            <td align="left">Route Target</td>
          </tr>
          <tr>
            <td align="left">0x03</td>
            <td align="left">Route Origin</td>
          </tr>
        </tbody>
      </table>

      <t>
        This document makes the following assignments in the "Transitive IPv4-Address-Specific Extended Community Sub-Types" registry
        <xref target="IANA-BGP-EC-TRANS-IPV4"/>:
      </t>
      <table>
        <thead>
          <tr>
            <th>SUB-TYPE VALUE</th>
            <th>NAME</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left">0x02</td>
            <td align="left">Route Target</td>
          </tr>
          <tr>
            <td align="left">0x03</td>
            <td align="left">Route Origin</td>
          </tr>
        </tbody>
      </table>
      <t>
        When requesting an allocation from more than one registry defined above, one may ask for allocating the same Type value from these
        registries. If possible, the IANA should accommodate such requests.
      </t>
    </section>

    <section anchor="Security" title="Security Considerations">
      <t>
        This extension to BGP has similar security implications as BGP Communities <xref target="RFC1997"/>.
      </t>
      <t>
        This extension to BGP does not change the underlying security issues. Specifically, an operator who is relying on the information
        carried in BGP must have a transitive trust relationship back to the source of the information. Specifying the mechanism(s) to
        provide such a relationship is beyond the scope of this document.
      </t>
    </section>
    <section title="Contributors" anchor="Contributors">
      <t>
        Dan Tappan and Yakov Rekhter were the authors of <xref target="RFC4360"/> and, therefore, are contributing authors of this document.
      </t>
    </section>
    <section title="Acknowledgements" anchor="acknowledgements">
      <t>
        We wish to thank John Hawkinson, Jeffrey Haas, Bruno Rijsman, Bill Fenner, and Alex Zinin for their suggestions and feedback on 
        the original <xref target="RFC4360"/>.
      </t>
      <t>
        We thank Yakov Rekhter and Alfred Hoenes for pointing out several errors in <xref target="RFC4360"/>.
      </t>
      <t>
        We also wish to thank Bruno Decraene, Laurent Vanbever, and Pierre Francois for pointing out inconsistencies regarding the
        procedures for originating non-transitive extended communities in <xref target="I-D.decraene-idr-rfc4360-clarification"/>.
      </t>
      <t>
        We also thank Jeffrey Haas, Robert Raszuk, Bruno Decraene, Linda Dunbar, Yingzhen Qu, Jie Dong and Lizhen Qiang for their
        suggestions and feedback on this document.
      </t>
    </section>
  </middle>

  <back>
    <displayreference target="RFC4271" to="BGP-4"/>
    <references title="Normative References">
      <xi:include href="http://bib.ietf.org/public/rfc/bibxml/reference.RFC.1997.xml"/>
      <xi:include href="http://bib.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml"/>
      <xi:include href="http://bib.ietf.org/public/rfc/bibxml/reference.RFC.3692.xml"/>
      <xi:include href="http://bib.ietf.org/public/rfc/bibxml/reference.RFC.4271.xml"/>
      <xi:include href="http://bib.ietf.org/public/rfc/bibxml/reference.RFC.5065.xml"/>
      <xi:include href="http://bib.ietf.org/public/rfc/bibxml/reference.RFC.5668.xml"/>
      <xi:include href="http://bib.ietf.org/public/rfc/bibxml/reference.RFC.7120.xml"/>
      <xi:include href="http://bib.ietf.org/public/rfc/bibxml/reference.RFC.7153.xml"/>
      <xi:include href="http://bib.ietf.org/public/rfc/bibxml/reference.RFC.7606.xml"/>
      <xi:include href="http://bib.ietf.org/public/rfc/bibxml/reference.RFC.8126.xml"/>
      <xi:include href="http://bib.ietf.org/public/rfc/bibxml/reference.RFC.8174.xml"/>
      <xi:include href="http://bib.ietf.org/public/rfc/bibxml/reference.RFC.9184.xml"/>
      <xi:include href="http://bib.ietf.org/public/rfc/bibxml3/reference.I-D.baber-ianabis-early-registries.xml"/>
      <reference anchor="IANA-BGP-EC-TRANS" target="https://www.iana.org/assignments/bgp-extended-communities/bgp-extended-communities.xhtml#transitive" derivedAnchor="IANA-BGP-EC-TRANS">
        <front>
          <title>BGP Transitive Extended Community Types</title>
          <author>
            <organization showOnFrontPage="true">
              IANA
            </organization>
          </author>
        </front>
      </reference>
      <reference anchor="IANA-BGP-EC-NONTRANS" target="https://www.iana.org/assignments/bgp-extended-communities/bgp-extended-communities.xhtml#transitive" derivedAnchor="IANA-BGP-EC-NONTRANS">
        <front>
          <title>BGP Non-Transitive Extended Community Types</title>
          <author>
            <organization showOnFrontPage="true">
              IANA
            </organization>
          </author>
        </front>
      </reference>
      <reference anchor="IANA-BGP-EC-TRANS-TWO-OCTET-AS" target="https://www.iana.org/assignments/bgp-extended-communities/bgp-extended-communities.xhtml#trans-two-octet-as" derivedAnchor="IANA-BGP-EC-TRANS-TWO-OCTET-AS">
        <front>
          <title>Transitive Two-Octet AS-Specific Extended Community Sub-Types</title>
          <author>
            <organization showOnFrontPage="true">
              IANA
            </organization>
          </author>
        </front>
      </reference>
      <reference anchor="IANA-BGP-EC-NONTRANS-TWO-OCTET-AS" target="https://www.iana.org/assignments/bgp-extended-communities/bgp-extended-communities.xhtml#non-trans-two-octet-as" derivedAnchor="IANA-BGP-EC-NONTRANS-TWO-OCTET-AS">
        <front>
          <title>Non-Transitive Two-Octet AS-Specific Extended Community Sub-Types</title>
          <author>
            <organization showOnFrontPage="true">
              IANA
            </organization>
          </author>
        </front>
      </reference>
      <reference anchor="IANA-BGP-EC-TRANS-IPV4" target="https://www.iana.org/assignments/bgp-extended-communities/bgp-extended-communities.xhtml#trans-ipv4" derivedAnchor="IANA-BGP-EC-TRANS-IPV4">
        <front>
          <title>Transitive IPv4-Address-Specific Extended Community Sub-Types</title>
          <author>
            <organization showOnFrontPage="true">
              IANA
            </organization>
          </author>
        </front>
      </reference>
      <reference anchor="IANA-BGP-EC-NONTRANS-IPV4" target="https://www.iana.org/assignments/bgp-extended-communities/bgp-extended-communities.xhtml#non-trans-ipv4" derivedAnchor="IANA-BGP-EC-NONTRANS-IPV4">
        <front>
          <title>Non-Transitive IPv4-Address-Specific Extended Community Sub-Types</title>
          <author>
            <organization showOnFrontPage="true">
              IANA
            </organization>
          </author>
        </front>
      </reference>
      <reference anchor="IANA-BGP-EC-TRANS-OPAQUE" target="https://www.iana.org/assignments/bgp-extended-communities/bgp-extended-communities.xhtml#trans-opaque" derivedAnchor="IANA-BGP-EC-TRANS-OPAQUE">
        <front>
          <title>Transitive Opaque Extended Community Sub-Types</title>
          <author>
            <organization showOnFrontPage="true">
              IANA
            </organization>
          </author>
        </front>
      </reference>
      <reference anchor="IANA-BGP-EC-NONTRANS-OPAQUE" target="https://www.iana.org/assignments/bgp-extended-communities/bgp-extended-communities.xhtml#non-trans-opaque" derivedAnchor="IANA-BGP-EC-NONTRANS-OPAQUE">
        <front>
          <title>Non-Transitive Opaque Extended Community Sub-Types</title>
          <author>
            <organization showOnFrontPage="true">
              IANA
            </organization>
          </author>
        </front>
      </reference>
    </references>
    <references title="Informative References">
      <xi:include href="http://bib.ietf.org/public/rfc/bibxml/reference.RFC.4360.xml"/>
      <xi:include href="http://bib.ietf.org/public/rfc/bibxml/reference.RFC.4364.xml"/>
      <xi:include href="https://bib.ietf.org/public/rfc/bibxml3/reference.I-D.draft-decraene-idr-rfc4360-clarification-00.xml"/>
    </references>

    <section anchor="Appendix" title="Comparison with RFC4360">
      <t>
        The encodings and definitions of the extended communities are unchanged in this document.
      </t>
      <t>
        Besides addressing known errata in <xref target="RFC4360"/>, this document updates the following:
      </t>
      <ul>
        <li>
          <xref target="operations"/> clarifies the operations of non-transitive extended communities across
          Autonomous System or Confederation Member-AS boundaries.
        </li>
        <li>
          <xref target="error-handling"/> is added to describe the error handling procedures.
        </li>
        <li>
          <xref target="iana-considerations"/> is updated to reflect the current IANA registry status.
          The update splits the "BGP Extended Communities Type" registry into transitive and non-transitive registries.
          This section also contains similar updates for the Sub-Types defined.
        </li>
      </ul>
    </section>
    
 </back>
</rfc>
